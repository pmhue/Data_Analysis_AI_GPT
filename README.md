# HÆ°á»›ng Dáº«n XÃ¢y Dá»±ng CÃ´ng Cá»¥ Trá»£ GiÃºp PhÃ¢n TÃ­ch Dá»¯ Liá»‡u (DAGPT)

## Giá»›i Thiá»‡u

MÃ¬nh sáº½ cÃ¹ng vá»›i báº¡n xÃ¢y dá»±ng má»™t cÃ´ng cá»¥ phÃ¢n tÃ­ch dá»¯ liá»‡u há»¯u Ã­ch vÃ  tiá»‡n lá»£i tÃªn lÃ  DAGPT (Data Analysis GPT). CÃ´ng cá»¥ nÃ y sá»­ dá»¥ng cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n (LLMs) Ä‘á»ƒ há»— trá»£ viá»‡c thao tÃ¡c vÃ  phÃ¢n tÃ­ch dá»¯ liá»‡u thÃ´ng qua giao diá»‡n Ä‘Ã m thoáº¡i. Dá»± Ã¡n nÃ y sá»­ dá»¥ng Python, Langchain, Streamlit, PyGWalker, OpenAI API Ä‘á»ƒ táº¡o ra má»™t á»©ng dá»¥ng web tÆ°Æ¡ng tÃ¡c, cho phÃ©p ngÆ°á»i dÃ¹ng táº£i lÃªn dá»¯ liá»‡u, Ä‘áº·t cÃ¢u há»i, khÃ¡m phÃ¡ dá»¯ liá»‡u vÃ  nháº­n Ä‘Æ°á»£c cÃ¡c phÃ¢n tÃ­ch chi tiáº¿t.

## Ná»™i Dung

### 1. Giá»›i Thiá»‡u vá» DAGPT

- **Tá»•ng quan:** DAGPT lÃ  má»™t cÃ´ng cá»¥ phÃ¢n tÃ­ch dá»¯ liá»‡u sá»­ dá»¥ng cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n Ä‘á»ƒ há»— trá»£ cÃ¡c tÃ¡c vá»¥ phÃ¢n tÃ­ch vÃ  thao tÃ¡c dá»¯ liá»‡u qua giao diá»‡n Ä‘Ã m thoáº¡i.
- **TÃ­nh nÄƒng:**
  - **Táº£i lÃªn tá»‡p CSV:** Dá»… dÃ ng táº£i lÃªn dá»¯ liá»‡u CSV qua thanh bÃªn.
  - **PhÃ¢n tÃ­ch dá»¯ liá»‡u:** Nháº­p cÃ¡c truy váº¥n vá» dá»¯ liá»‡u vÃ  nháº­n pháº£n há»“i Ä‘Æ°á»£c há»— trá»£ bá»Ÿi LLMs.
  - **Trá»±c quan hÃ³a dá»¯ liá»‡u:** Táº¡o vÃ  hiá»ƒn thá»‹ cÃ¡c biá»ƒu Ä‘á»“ dá»±a trÃªn cÃ¡c truy váº¥n dá»¯ liá»‡u.
  - **CÃ´ng cá»¥ trá»±c quan hÃ³a tÆ°Æ¡ng tÃ¡c:** KhÃ¡m phÃ¡ dá»¯ liá»‡u má»™t cÃ¡ch tÆ°Æ¡ng tÃ¡c báº±ng cÃ¡ch sá»­ dá»¥ng cÃ¡c biá»ƒu Ä‘á»“ tÃ¹y chá»‰nh.

### 2. CÃ´ng Cá»¥ vÃ  GÃ³i Cáº§n Thiáº¿t

- **Python 3.9 hoáº·c cao hÆ¡n:** NgÃ´n ngá»¯ láº­p trÃ¬nh chÃ­nh Ä‘á»ƒ phÃ¡t triá»ƒn á»©ng dá»¥ng.
- **Langchain:** Khung phÃ¡t triá»ƒn á»©ng dá»¥ng sá»­ dá»¥ng cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n.
- **Streamlit:** Khung á»©ng dá»¥ng mÃ£ nguá»“n má»Ÿ cho cÃ¡c dá»± Ã¡n Machine Learning vÃ  Khoa há»c dá»¯ liá»‡u.
- **Pygwalker:** CÃ´ng cá»¥ táº¡o trá»±c quan hÃ³a tÆ°Æ¡ng tÃ¡c.
- **OpenAI API (tÃ¹y chá»n):** Sá»­ dá»¥ng Ä‘á»ƒ truy cáº­p cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ tiÃªn tiáº¿n.

### 3. HÆ°á»›ng Dáº«n Chi Tiáº¿t

#### BÆ°á»›c 1: Thiáº¿t Láº­p CÆ¡ Báº£n

- XÃ¢y dá»±ng cáº¥u trÃºc dá»± Ã¡n.
- Thiáº¿t láº­p mÃ´i trÆ°á»ng áº£o.
- CÃ i Ä‘áº·t cÃ¡c gÃ³i cáº§n thiáº¿t.
- Thiáº¿t láº­p kho lÆ°u trá»¯ Git Ä‘á»ƒ lÆ°u trá»¯ mÃ£ nguá»“n dá»± Ã¡n.

#### BÆ°á»›c 2: XÃ¢y Dá»±ng CÃ´ng Cá»¥ "Chat Vá»›i Dá»¯ Liá»‡u"

- Sá»­ dá»¥ng Streamlit Ä‘á»ƒ xÃ¢y dá»±ng giao diá»‡n ngÆ°á»i dÃ¹ng.
- Sá»­ dá»¥ng cÃ¡c bá»™ cÃ´ng cá»¥ cá»§a Langchain Ä‘á»ƒ xÃ¢y dá»±ng cÃ´ng cá»¥ phÃ¢n tÃ­ch dá»¯ liá»‡u.
- Sá»­ dá»¥ng mÃ´ hÃ¬nh GPT cá»§a OpenAI.

#### BÆ°á»›c 3: XÃ¢y Dá»±ng CÃ´ng Cá»¥ Trá»±c Quan HÃ³a TÆ°Æ¡ng TÃ¡c

- NhÃºng Pygwalker vÃ o giao diá»‡n Streamlit Ä‘á»ƒ xÃ¢y dá»±ng cÃ´ng cá»¥ trá»±c quan hÃ³a tÆ°Æ¡ng tÃ¡c.

### 4. Káº¿t Luáº­n

- Vá»›i kháº£ nÄƒng cá»§a LLMs, viá»‡c viáº¿t má»™t á»©ng dá»¥ng thá»±c hiá»‡n cÃ¡c tÃ¡c vá»¥ phÃ¢n tÃ­ch dá»¯ liá»‡u phá»©c táº¡p hÃ ng ngÃ y trá»Ÿ nÃªn ráº¥t dá»… dÃ ng.
- Sá»­ dá»¥ng Streamlit giÃºp dá»… dÃ ng xÃ¢y dá»±ng giao diá»‡n Ä‘Ã m thoáº¡i vÃ  cÃ¡c kháº£ nÄƒng trá»±c quan hÃ³a máº¡nh máº½, lÃ m cho viá»‡c phÃ¢n tÃ­ch dá»¯ liá»‡u trá»Ÿ nÃªn dá»… tiáº¿p cáº­n hÆ¡n vá»›i má»i ngÆ°á»i.
- Pygwalker lÃ  má»™t cÃ´ng cá»¥ miá»…n phÃ­ vÃ  há»¯u Ã­ch thay tháº¿ cho Tableau vÃ  cÃ³ thá»ƒ Ä‘Æ°á»£c nhÃºng vÃ o á»©ng dá»¥ng cá»§a chÃºng ta.
- Báº±ng cÃ¡ch lÃ m theo hÆ°á»›ng dáº«n nÃ y, má»i ngÆ°á»i cÃ³ thá»ƒ tá»± xÃ¢y dá»±ng cÃ´ng cá»¥ phÃ¢n tÃ­ch dá»¯ liá»‡u cá»§a riÃªng mÃ¬nh, táº­n dá»¥ng sá»©c máº¡nh cá»§a LLMs vÃ  Streamlit.

## LiÃªn Há»‡

Náº¿u báº¡n cÃ³ báº¥t ká»³ cÃ¢u há»i hoáº·c gÃ³p Ã½ nÃ o, hÃ£y Ä‘á»ƒ láº¡i bÃ¬nh luáº­n dÆ°á»›i hoáº·c liÃªn há»‡ vá»›i mÃ¬nh qua email: [phanminhhuept@gmail.com].

## LiÃªn Káº¿t Há»¯u Ãch

- [Streamlit Documentation](https://docs.streamlit.io/)
- [Pandas Documentation](https://pandas.pydata.org/docs/)
- [Langchain Documentation](https://langchain.com/docs/)
- [Pygwalker Documentation](https://pygwalker.github.io/)
- [OpenAI API](https://www.openai.com/)

## TÃ¡c Giáº£

[phanminhhuept@gmail) - NgÆ°á»i báº¡n Ä‘á»“ng hÃ nh cÃ¹ng má»i ngÆ°á»i trÃªn con Ä‘Æ°á»ng chinh phá»¥c lÄ©nh vá»±c Khoa Há»c Dá»¯ Liá»‡u vÃ  AI

---

Cáº£m Æ¡n báº¡n Ä‘Ã£ theo dÃµi! 

## Phá»¥ Lá»¥c: CÃ¡ch Thiáº¿t Láº­p KhÃ³a API cá»§a OpenAI

1. **ÄÄƒng KÃ½ / ÄÄƒng Nháº­p vÃ o OpenAI:**

   - Truy cáº­p trang web OpenAI vÃ  táº¡o tÃ i khoáº£n hoáº·c Ä‘Äƒng nháº­p náº¿u báº¡n Ä‘Ã£ cÃ³ tÃ i khoáº£n.

2. **Äi tá»›i API Keys:**

   - Sau khi Ä‘Äƒng nháº­p, vÃ o pháº§n API trong báº£ng Ä‘iá»u khiá»ƒn tÃ i khoáº£n cá»§a báº¡n. ThÆ°á»ng pháº§n nÃ y náº±m dÆ°á»›i tab "API Keys".

3. **Táº¡o KhÃ³a API Má»›i:**

   - Nháº¥n vÃ o nÃºt "Create new secret key". Há»‡ thá»‘ng sáº½ táº¡o má»™t khÃ³a API má»›i cho báº¡n.

4. **Sao ChÃ©p KhÃ³a API:**
   - Sau khi khÃ³a Ä‘Æ°á»£c táº¡o, hÃ£y sao chÃ©p nÃ³ vÃ  thay tháº¿ khÃ³a API trong tá»‡p `.env` cá»§a dá»± Ã¡n.

Truy cáº­p [OpenAI](https://www.openai.com/) Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.



# DAGPT: Data Analysis GPT

DAGPT is a data analysis tool that uses LLMs (Large Language models) to assist with data manipulation and analysis tasks via a conversational interface. This project leverages Streamlit to provide an interactive web application where users can upload their data, ask questions, explore your data interactively and receive insights.

## Features

- **CSV File Upload**: Easily upload your CSV data through the sidebar.
- **Data Analysis**: Enter queries about your data and get responses powered by LLMs.
- **Data Visualization**: Generate and display plots based on your data queries.
- **Interactive Visualization Tool**: Explore your data interactively using various visualizations. Upload your dataset and start analyzing with drag-and-drop functionality to create customized charts.

## Application Interface

### Chat With Your Data

![Chat With Your Data](images/chat_with_data.png)
Welcome! Upload your CSV file, enter your query, and let the agent handle the rest.

### Interactive Visualization Tool

![Interactive Visualization Tool](images/interactive_visualization_tool.png)
Welcome! This tool allows you to explore your data interactively using various visualizations. Upload your dataset and start analyzing!

### Demo Video

![Demo Video](videos/demo_clip_v2.gif)

## Getting Started

### Prerequisites

- Python 3.9 or higher
- pip (Python package installer)

### Installation

1. Clone the repository:

   ```bash
   git clone https://github.com/pmhue/Data_Analysys_AI_GPT.git
   cd Data_Analysys_AI_GPT
   ```

2. Create a virtual enviroment:

    ```
    python -m venv .venv
    source .venv/bin/activate   # On Windows use `.venv\Scripts\activate`
    ```

3. Install the required dependencies:

   ```bash
   pip install -r requirements.txt
   ```

4. Set up environment variables:
    Create a `.env` file in the root directory of the project and add your environment variables. Example is provided in `.env.sample`:

    ```
    # API keys
    OPENAI_API_KEY=your_openai_api_key
    GOOGLE_API_KEY=your_google_api_key

    # Python path
    PYTHONPATH=/path/to/dagpt/folder
    ```

### Running the Application

To start the Streamlit app, run the following command in your terminal:

```bash
streamlit run 1_ğŸ“Š_Chat With Your Data.py
```

This will launch the web application in your default web browser.

### Usage

1. Upload a CSV file containing your data.
2. Use the text input to ask questions about the data.
3. Use the interactive visualization tool to explore your data and create visualizations.

## Project Structure

```
â”œâ”€â”€ README.md
â”œâ”€â”€ 1_ğŸ“Š_Chat With Your Data.py
â”œâ”€â”€ dagpt
â”‚   â”œâ”€â”€ agents
â”‚   â”‚   â”œâ”€â”€ base.py
â”‚   â”‚   â””â”€â”€ pandas_agent.py
â”‚   â”œâ”€â”€ models
â”‚   â”‚   â””â”€â”€ llms.py
â”‚   â”œâ”€â”€ prompts
â”‚   â”‚   â””â”€â”€ prompts.py
â”‚   â”œâ”€â”€ tools
â”‚   â”‚   â”œâ”€â”€ tools.py
â”‚   â”‚   â””â”€â”€ tools_ori.py
â”‚   â””â”€â”€ utils
â”‚       â””â”€â”€ utils.py
â”œâ”€â”€ data
â”‚   â””â”€â”€ sample_data.csv
â”œâ”€â”€ notebooks
â”œâ”€â”€ pages
â”‚   â””â”€â”€ 2_ğŸ“ˆ_Interactive Visualization Tool.py
â”œâ”€â”€ requirements.txt
â”‚â”€â”€ images
â”‚   â””â”€â”€ chat_with_data.png
â”‚   â””â”€â”€ interactive_visualization_tool.png
â””â”€â”€ videos
    â””â”€â”€ demo_video_01.mp4
    â””â”€â”€ demo_video.gif
```

### Project Components

- `1_ğŸ“Š_Chat With Your Data.py`: Script for the "Chat With Your Data" feature.
- `dagpt/agents`: Contains the agent classes responsible for handling user queries.
  - `base.py`: Base class for agents.
  - `pandas_agent.py`: Agent specifically designed for handling pandas DataFrames.
- `dagpt/models`: Contains the language model classes.
  - `llms.py`: Class for interacting with GPT models.
- `dagpt/prompts`: Contains prompt templates for the agents.
  - `prompts.py`: Prompt templates for different scenarios.
- `dagpt/tools`: Contains utility tools for data manipulation and model interactions.
  - `tools.py`: Customized tools module.
  - `tools_ori.py`: Original tools module.
- `dagpt/utils`: General utility functions.
  - `utils.py`: Utility functions used throughout the project.
- `data`: Directory for storing sample data files.
  - `sample_data.csv`: A sample CSV file for testing.
- `notebooks`: Directory for Jupyter notebooks (for experiments and testing).
- `pages`: Directory for additional Streamlit pages.
  - `2_ğŸ“ˆ_Interactive Visualization Tool.py`: Script for the interactive visualization tool.
- `requirements.txt`: List of required Python packages.
- `images`: Directory for storing demo images.
  - `chat_with_data.png`: Image showing the "Chat With Your Data" interface.
  - `interactive_visualization_tool.png`: Image showing the "Interactive Visualization Tool" interface.
- `videos`: Directory for storing demo videos.

## Contributing

Contributions are welcome! Please open an issue or submit a pull request on GitHub.

## Acknowledgements

- [LangChain](https://github.com/langchain-ai/langchain)
- [Streamlit](https://www.streamlit.io/)
- [Pygwalker](https://github.com/Kanaries/pygwalker)

## License

This project is licensed under the MIT License - see the LICENSE file for details.